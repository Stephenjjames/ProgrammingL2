<!doctype html>
<head>
    <title>Final Game</title>
</head>
<body>
    <canvas id="gameCanvas" width="1200" height="800"></canvas> 
    <script> // canvas size
        var canvas, canvasContext;
        
        window.onload = function(){
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');
            
        
            document.addEventListener('keydown', keyPressed);
            document.addEventListener('keyup', keyReleased);
            
            setInterval(mainloop, 1000/50);
        }
        
        //player variables
        var playerXpos = 0;
        var playerYpos = 0;
        var playerXspeed = 8;
        var playerYspeed = 3;
        var playerSize = 50;
        
        const LEFT_KEY = 37;
        const RIGHT_KEY = 39;
        //This gap in code is for the space key for shooting
        var leftKeyPressed = false;
        var rightKeyPressed = false;
        
        var startingPos = true;

        function mainloop(){
            colorRect(0,0,canvas.width,canvas.height,'black'); // Background original
            colorRect(playerXpos,playerYpos,playerSize,playerSize,'red'); //Player Block
        
            startPos();
            playerMove();
        
         if(startingPos){
               startPos();
                startingPos = false; 
            }
        }
        
        function startPos(){
            playerYpos = canvas.height - playerSize * 9; // Start pos height positioning
            playerXpos = canvas.width - playerSize * 20; // Start pos width positioning
        }
        
        function keyPressed(evt){
            if(evt.keyCode == LEFT_KEY){
               leftKeyPressed = true;
            }
            if(evt.keyCode == RIGHT_KEY){
               rightKeyPressed = true;
            }
        }
        
        function keyReleased(evt){
             if(evt.keyCode == LEFT_KEY){
               leftKeyPressed = false;
            }
            if(evt.keyCode == RIGHT_KEY){
               rightKeyPressed = false;
            }
        }
        
        function playerMove(){
            //Right movement but stops at right edge
            if(rightKeyPressed && playerXpos < canvas.width - playerSize){
                playerXpos += playerXspeed; // x move
            }
            if(leftKeyPressed){
                playerXpos -= playerXspeed; // x move
                if(playerXpos < 0 - playerSize){
                   playerXpos = canvas.width - playerSize / 2;
                }
            }
        }
  
        function colorRect(x,y,w,h,c){
            canvasContext.fillStyle = c;
            canvasContext.fillRect(x,y,w,h);
        }
        
        
    </script>
</body>